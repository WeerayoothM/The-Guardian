{"version":3,"sources":["components/Header.js","components/Article.js","components/SearchArticles.js","components/Details.js","components/Sections.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","to","moment","format","Article","article","id","src","fields","thumbnail","webTitle","trailText","parseInt","wordcount","firstPublicationDate","SearchArticles","page","setPage","term","setTerm","orderBy","setOrderBy","useState","articles","setArticles","lastPage","setLastPage","loading","setLoading","useEffect","fetchArticles","timeOutId","setTimeout","clearTimeout","console","log","termQuery","orderByQuery","axios","get","then","res","data","pages","href","onClick","e","preventDefault","htmlFor","type","value","onChange","target","map","Details","history","details","setDetails","url","location","search","split","response","sectionName","byline","dangerouslySetInnerHTML","__html","main","body","Sections","sectionParam","match","params","section","setSection","sections","setSections","setSectionName","fetchSections","updateSection","innerText","sectionQuery","App","path","exact","render","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49a3d0bc.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <p className=\"header-category\">\n        <Link to=\"/sections/business\">Business</Link> |{' '}\n        <Link to=\"/sections/weather\">Weather</Link> |{' '}\n        <Link to=\"/sections/sport\">Sport</Link> |{' '}\n        <Link to=\"/sections/politics\">Politics</Link>\n      </p>\n      <Link to=\"/\">\n        <h1>The Guardian.</h1>\n      </Link>\n      <p className=\"header-date\">{moment().format('dddd MMMM Do YYYY')}</p>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nexport default function Article({ article }) {\n  return (\n    <div className=\"column\">\n      <Link to={`/details?id=${article.id}`}>\n        <img src={article.fields.thumbnail}></img>\n      </Link>\n      <h3 className=\"headline\">{article.webTitle}</h3>\n      <p className=\"subheadline\">{article.fields.trailText}</p>\n      <div className=\"column-footer\">\n        <span>{parseInt(article.fields.wordcount / 130)} minutes read</span>\n        <span>\n          {article.fields.firstPublicationDate &&\n            moment(article.fields.firstPublicationDate).format(\n              'dddd MMMM Do YYYY'\n            )}\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Article from './Article';\n\nexport default function SearchArticles({\n  page,\n  setPage,\n  term,\n  setTerm,\n  orderBy,\n  setOrderBy,\n}) {\n  const [articles, setArticles] = useState([]);\n  const [lastPage, setLastPage] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchArticles();\n  }, [page, orderBy]);\n\n  useEffect(() => {\n    const timeOutId = setTimeout(() => fetchArticles(), 500);\n    return () => clearTimeout(timeOutId);\n  }, [term]);\n\n  const searchTerm = (e) => {\n    setPage(1);\n    setTerm(e.target.value);\n  };\n\n  const fetchArticles = () => {\n    console.log('fetching data');\n    const termQuery = term ? `&q=${term}` : '';\n    const orderByQuery = `&orderBy=${orderBy}`;\n    setLoading(true);\n    axios\n      .get(`/api/articles?page=${page}${termQuery}${orderByQuery}`)\n      .then((res) => {\n        setArticles(res.data.articles);\n        setLastPage(res.data.pages);\n        setLoading(false);\n      });\n  };\n\n  const displayArticles = () => {\n    return articles.map((article) => (\n      <Article key={article.id} article={article} />\n    ));\n  };\n  const firstPage = (e) => {\n    e.preventDefault();\n    setPage(1);\n  };\n  const prevPage = (e) => {\n    e.preventDefault();\n    if (page === 1) {\n      return;\n    }\n    setPage(page - 1);\n  };\n  const nextPage = (e) => {\n    console.log('nextpage');\n\n    e.preventDefault();\n    if (page === lastPage) {\n      return;\n    }\n    setPage(page + 1);\n  };\n\n  return (\n    <div className=\"body\">\n      <div className=\"subhead\">\n        <div className=\"subhead-prev-group\">\n          <a href=\"\" onClick={firstPage}>\n            First page\n          </a>\n          {'  |  '}\n          <a href=\"\" onClick={prevPage}>\n            Previous page\n          </a>\n        </div>\n        <div className=\"search-form\">\n          <label htmlFor=\"search\">Search </label>\n          <input\n            id=\"search\"\n            type=\"text\"\n            value={term}\n            onChange={searchTerm}\n          />{' '}\n          <span\n            onClick={() => setOrderBy('newest')}\n            className={orderBy === 'newest' ? 'active' : ''}\n          >\n            Newest\n          </span>{' '}\n          |{' '}\n          <span\n            onClick={() => setOrderBy('oldest')}\n            className={orderBy === 'oldest' ? 'active' : ''}\n          >\n            Oldest\n          </span>\n        </div>\n        <div className=\"subhead-next-group\">\n          <a href=\"\" onClick={nextPage}>\n            Next page\n          </a>\n          {'  |  '}\n          <span>On Page {page}</span>\n        </div>\n      </div>\n      <div className=\"content\">\n        {loading ? (\n          <div className=\"loader\">\n            <img src=\"./loader.gif\" />\n          </div>\n        ) : (\n          displayArticles()\n        )}\n      </div>\n    </div>\n  );\n}\n","import Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function Details(history) {\n  const [details, setDetails] = useState(null);\n  useEffect(() => {\n    const url = history.location.search.split('=')[1];\n    axios.get(`/api/details?url=${url}`).then((response) => {\n      setDetails(response.data);\n    });\n  }, []);\n\n  return details ? (\n    <div>\n      <div className=\"details-header\">\n        <p className=\"left\">{details.sectionName}</p>\n        <h1> {details.webTitle}</h1>\n        <p className=\"right\">{details.fields.byline}</p>\n      </div>\n      <div\n        className=\"details-columns\"\n        dangerouslySetInnerHTML={{\n          __html: details && details.fields.main + details.fields.body,\n        }}\n      ></div>\n    </div>\n  ) : (\n    <div className=\"loader\">\n      <img src=\"./loader.gif\" />\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Article from './Article';\n\nexport default function Sections({ match }) {\n  const sectionParam = match.params.section;\n  const [loading, setLoading] = useState(false);\n  const [section, setSection] = useState('politics');\n  const [sections, setSections] = useState([]);\n  const [articles, setArticles] = useState([]);\n  const [sectionName, setSectionName] = useState('Politics');\n\n  useEffect(() => {\n    setSection(sectionParam);\n    setSectionName(sectionParam);\n    fetchSections();\n  }, [sectionParam]);\n\n  useEffect(() => {\n    fetchArticles();\n  }, [section]);\n\n  const updateSection = (e) => {\n    setSection(e.target.id);\n    setSectionName(e.target.innerText);\n  };\n\n  const fetchSections = () => {\n    axios.get('/api/sections').then((res) => {\n      setSections(res.data);\n    });\n  };\n\n  const fetchArticles = () => {\n    const sectionQuery = section ? `&section=${section}` : '';\n    setLoading(true);\n    axios.get(`/api/articles?${sectionQuery}`).then((res) => {\n      setArticles(res.data.articles);\n      setLoading(false);\n    });\n  };\n\n  const displayArticles = () => {\n    return articles.map((article) => (\n      <Article key={article.id} article={article} />\n    ));\n  };\n\n  return (\n    <div className=\"sections\">\n      <div className=\"sections-index\">\n        <span>SECTIONS</span>\n        <ul>\n          {sections &&\n            sections.map((section) => (\n              <li id={section.id} key={section.id} onClick={updateSection}>\n                {section.webTitle}\n              </li>\n            ))}\n        </ul>\n      </div>\n      <div className=\"sections-body\">\n        <h1>{sectionName}</h1>\n        <div className=\"content\">\n          {loading ? (\n            <div className=\"loader\">\n              <img src=\"/loader.gif\" />\n            </div>\n          ) : (\n            displayArticles()\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import './App.css';\nimport { Switch, Link, Route } from 'react-router-dom';\nimport { useState } from 'react';\n\nimport Header from './components/Header';\nimport SearchArticles from './components/SearchArticles';\nimport Details from './components/Details';\nimport Sections from './components/Sections';\n\nfunction App() {\n  const [page, setPage] = useState(1);\n  const [term, setTerm] = useState('');\n  const [orderBy, setOrderBy] = useState('newest');\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <Switch>\n        <Route\n          path=\"/\"\n          exact\n          render={() => (\n            <SearchArticles\n              page={page}\n              setPage={setPage}\n              term={term}\n              setTerm={setTerm}\n              orderBy={orderBy}\n              setOrderBy={setOrderBy}\n            />\n          )}\n        />\n        <Route path=\"/details\" component={Details} />\n        <Route path=\"/sections/:section\" component={Sections} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}